<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:toolkit="http://schemas.microsoft.com/dotnet/2022/maui/toolkit"
             x:Class="Re_RunApp.Views.ActivityScreen"
             Title="Activity"
             BackgroundColor="White">
    <Grid RowDefinitions="3.7*,1.5*,Auto" ColumnSpacing="0" RowSpacing="0" Padding="0">
        <!-- Middle: Route Video with Overlay -->
        <Grid Grid.Row="0">
            <!-- Video -->
            <Frame x:Name="VideoFrame" Padding="0" BackgroundColor="#000" CornerRadius="0" HasShadow="False">
                <toolkit:MediaElement x:Name="RouteVideo"
                                      ShouldAutoPlay="false"
                                      Aspect="AspectFill"
                                      ShouldLoopPlayback="False"
                                      ShouldShowPlaybackControls="False"
                                      ShouldMute="True"
                                      HorizontalOptions="CenterAndExpand"  
                                      Source="embed://no-media.mp4"                
                                      VerticalOptions="Center" ShouldKeepScreenOn="True" />
            </Frame>

            <!-- Overlay: Semi-transparent Statistics Bar -->
            <Frame BackgroundColor="#60101010"  
                   Padding="10"
                   CornerRadius="0"
                   VerticalOptions="Start"
                   HorizontalOptions="FillAndExpand"
                   Margin="0">
                <Grid ColumnDefinitions="2*,2*,2*,2*" RowDefinitions="Auto,Auto" ColumnSpacing="10">
                    <StackLayout Grid.Column="0" Spacing="2">
                        <Label Text="Distance meters" FontAttributes="None" FontSize="14" TextColor="White" HorizontalTextAlignment="Center" />
                        <Label x:Name="DistanceLabel" Text="0" FontAttributes="Bold" FontSize="20" TextColor="White" HorizontalTextAlignment="Center"/>
                    </StackLayout>
                    <StackLayout Grid.Column="1" Grid.Row="0" Spacing="2">
                        <Label Text="Elapsed time" FontAttributes="None" FontSize="14" TextColor="White" HorizontalTextAlignment="Center"/>
                        <Label x:Name="TimeLabel" Text="00:00" FontAttributes="Bold" FontSize="20" TextColor="White" HorizontalTextAlignment="Center"/>
                    </StackLayout>

                    <StackLayout Grid.Column="2" Spacing="2">
                        <Label Text="Heartrate" FontAttributes="None" FontSize="14" TextColor="White" HorizontalTextAlignment="Center"/>
                        <Label x:Name="HeartrateLabel" Text="0" FontAttributes="Bold" FontSize="20" TextColor="White" HorizontalTextAlignment="Center"/>
                    </StackLayout>
                    <StackLayout Grid.Column="3" Grid.Row="0" Spacing="2">
                        <Label Text="Speed Min/KM" FontAttributes="None" FontSize="14" TextColor="White" HorizontalTextAlignment="Center"/>
                        <Label x:Name="SpeedLabel" Text="00:00" FontAttributes="Bold" FontSize="20" TextColor="White" HorizontalTextAlignment="Center"/>
                    </StackLayout>
                </Grid>
            </Frame>
        </Grid>

        <!-- Below Video: Route Map -->
        <Frame Grid.Row="1" Padding="0" Margin="0" BackgroundColor="#e0e0e0" CornerRadius="0" HasShadow="False">
            <Image x:Name="ElevationGraphImage" Margin="0" Aspect="Fill" />
        </Frame>

        <!-- Bottom: Buttons -->
        <StackLayout Grid.Row="2" Orientation="Horizontal" Spacing="0">
            <Button x:Name="FinishButton"
                    Text="Finish"
                    Clicked="OnFinishClicked"
                    CornerRadius="0"
                    FontSize="Large"
                    HeightRequest="50"
                    HorizontalOptions="FillAndExpand"
                    IsVisible="Hidden"/>
            <Button x:Name="StopButton"
                    Text="STOP"
                    Clicked="OnStopClicked"
                    CornerRadius="0"
                    BackgroundColor="Red"
                    FontSize="Large"
                    HeightRequest="50"
                    HorizontalOptions="FillAndExpand"
                    IsVisible="Hidden"/>
            <Button x:Name="StartButton"
                    Text="Start your Run!"
                    CornerRadius="0"
                    Clicked="OnStartClicked"
                    BackgroundColor="Green"
                    FontSize="Large"
                    HeightRequest="50"
                    HorizontalOptions="FillAndExpand"
                    IsVisible="Visible"/>
        </StackLayout>
    </Grid>
</ContentPage>